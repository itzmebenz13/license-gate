<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Verifying...</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">

<style>
body {
  margin: 0;
  font-family: system-ui, -apple-system, sans-serif;
  background: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  user-select: none; /* Prevent copying text */
}
.box { text-align: center; }

/* The Loader */
.loader {
  width: 40px;
  height: 40px;
  border: 4px solid #eee;
  border-top: 4px solid #000; /* Black for Shein vibe */
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
  margin: 20px auto;
}

/* Hidden Error Message */
#offline-error {
  display: none;
  color: #000;
}
.error-icon { font-size: 40px; margin-bottom: 10px; }
.error-text { font-weight: bold; font-size: 16px; }

@keyframes spin { 100% { transform: rotate(360deg); } }
</style>
</head>

<body oncontextmenu="return false;">

<div class="box" id="loading-box">
  <div class="loader"></div>
  <p id="status">Verifying environment...</p>
</div>

<div id="offline-error" class="box">
  <div class="error-icon">ðŸ“¶</div>
  <p class="error-text">Connection Lost</p>
  <p style="font-size:12px; color:#666;">Internet is required to verify this session.</p>
  <button onclick="location.reload()" style="margin-top:15px; padding:10px 20px; background:#000; color:#fff; border:none; border-radius:4px; font-weight:bold;">RETRY</button>
</div>

<script>
(function () {
  // --- CONFIGURATION ---
  // Target Link is Base64 encoded so it is NOT visible in "View Source"
  const ENCRYPTED_LINK = "aHR0cHM6Ly9hcGktc2hlaW4uc2hlaW4uY29tL2Fyay8zMjEwP3R5cGU9aW1tZXJzaXZlJnZlcnNpb25fYmlkPTEwMTY4MjQxMSUyQzEwMTUwNzU1MSUyQzEwMDcxMDc0MSUyQzEwMTU0NTA5NiUyQzEwMTY4MjUxMSZzaXRldWlkPWFuZHNocGgmdGVzdD01MDYxJmFkX3R5cGU9RFBBJmFjdGl2aXR5PW5ld3VzZXJwcmljZSZnb29kc19pZD0xOTc2MDAwNzYmY29sb3JhdGlvbj0xJmxhbmd1YWdlPWVuJmxpbmtfZGV2aWNlX2xldmVsPTEmdHlwZT1pbW1lcnNpdmUmY3Jvd2RfaWQ9MSZ2ZXJzaW9uX2VpZD0xMDA2NDc0NzEmc2NlbmU9MSZ0dl9iPTImcGY9ZmFjZWJvb2smcmVxdWVzdElkPWFwcC0zNDc3NDI0ZS1hYjY1LTRkZGYtOTY4NC0wZTRkNWIwZDIxYzcmYXJrSWQ9MzIxMCZsYW5kaW5nX3BhZ2VfaWQ9MzIxMCZhZF90ZXN0X2lkPTQ0OTUwJmtleV9pc19vdXRzaWRlX2xpbms9dHJ1ZSZ1Z2lkPTA0MGlbG9qMHh3JnVybF9mcm9tPWFkaHViMTk1NzY3Mjc3JnRhcmdldF91cmw9aHR0cHMlM0ElMkYlMkZwaC5zaGVpbi5jb20lMkZhcmslMkZkZWZhdWx0JTNGc2NlbmUlM0QxJTI2dGVzdCUzRDUwNTElMjZhZF90eXBlJTNERFBBJTI2Z29vZHNfaWQlM0Q5NDE4OTg5OCZhcHA9c2hlaW4=";
  
  const FALLBACK_URL = "https://www.google.com";

  // --- VARIABLES ---
  const status = document.getElementById("status");
  const loadingBox = document.getElementById("loading-box");
  const errorBox = document.getElementById("offline-error");
  let redirectTimer = null;

  // --- SECURITY: NETWORK KILL SWITCH ---
  // This function runs instantly if the browser detects offline mode
  function triggerKillSwitch() {
    // 1. Stop the redirect timer (Prevent the browser from going to the link)
    if (redirectTimer) clearTimeout(redirectTimer);
    
    // 2. Hide the loading screen
    loadingBox.style.display = "none";
    
    // 3. Show the fake error (Hides the real URL from the browser UI)
    errorBox.style.display = "block";
    document.title = "Connection Error";
  }

  // Listen for the "offline" event (e.g., turning off WiFi in control center)
  window.addEventListener("offline", triggerKillSwitch);

  // --- MAIN LOGIC ---
  function init() {
    // 1. Immediate Check
    if (!navigator.onLine) {
      triggerKillSwitch();
      return;
    }

    const ua = navigator.userAgent.toLowerCase();
    const isShein = ua.includes("shein") || ua.includes("shein_android") || ua.includes("shein_ios");

    // 2. Browser Check (Not Shein? Go to Google)
    if (!isShein) {
      status.innerText = "Redirecting...";
      setTimeout(() => { window.location.replace(FALLBACK_URL); }, 1500);
      return;
    }

    // 3. Shein Detected - Prepare Redirect
    status.innerText = "Checking proper authorization...";

    // We wait 1.5 seconds. If they turn off WiFi during this time, 'triggerKillSwitch' will stop us.
    redirectTimer = setTimeout(() => {
      // 4. Final Safety Check before jumping
      if (!navigator.onLine) {
        triggerKillSwitch();
      } else {
        // Decode the link only at the last second
        const finalLink = atob(ENCRYPTED_LINK);
        window.location.replace(finalLink);
      }
    }, 1500);
  }

  // Run
  init();

})();
</script>
</body>
</html>
    const ua = navigator.userAgent.toLowerCase();
    const isShein = ua.includes("shein") || ua.includes("shein_android") || ua.includes("shein_ios");

    // If not Shein, send to Google (fast)
    if (!isShein) {
      status.innerText = "Redirecting...";
      setTimeout(() => { window.location.replace(FALLBACK_URL); }, 500);
      return;
    }

    // Shein Detected
    status.innerText = "Authenticating...";

    // --- 3. THE REDIRECT (Simplified) ---
    // We wait 1.2 seconds. If they cut wifi during this time, handleOffline() triggers.
    // If they don't, we redirect instantly.
    redirectTimer = setTimeout(() => {
      
      // Final Check: Are we still online?
      if (!navigator.onLine) {
        handleOffline();
      } else {
        // Decode and Go
        const realUrl = atob(ENCRYPTED_TARGET);
        window.location.replace(realUrl);
      }

    }, 1200); 
  }

  // Start immediately
  init();

})();
</script>
</body>
</html>
    // UPDATE text just in case
    document.title = "Connection Error";
  }

  // Listen for network changes in real-time
  window.addEventListener('offline', handleOffline);

  // --- 3. ENVIRONMENT CHECK ---
  function init() {
    const ua = navigator.userAgent.toLowerCase();
    
    // Check if we are truly online before starting
    if (!navigator.onLine) {
      handleOffline();
      return;
    }

    const isShein = ua.includes("shein") || ua.includes("shein_android") || ua.includes("shein_ios");

    if (!isShein) {
      status.innerText = "Redirecting...";
      setTimeout(() => { window.location.replace(FALLBACK_URL); }, 1000);
      return;
    }

    // Shein Detected - Start the Timer
    status.innerText = "Authenticating...";
    
    // Store the timer ID so we can cancel it if they pull the plug
    redirectTimer = setTimeout(() => {
      performSafeRedirect();
    }, 1200); // Slightly shorter delay
  }

  // --- 4. PRE-FLIGHT PING (The "Safety Check") ---
  // Before we actually command the browser to change URLs, we check the network one last time.
  function performSafeRedirect() {
    // Double check: Are we still online?
    if (!navigator.onLine) {
      handleOffline();
      return;
    }

    // Decode the URL at the last second
    const realUrl = atob(ENCRYPTED_TARGET);

    // TRICK: Try to load a tiny image. If this fails immediately, we know the net is gone.
    // This prevents the "browser error page" which leaks the link.
    const img = new Image();
    
    img.onerror = function() {
      // If image fails to load, assume network is unstable/spoofed -> ABORT
      handleOffline();
    };

    img.onload = function() {
      // Image loaded -> Internet is real -> GO.
      window.location.replace(realUrl);
    };

    // Trigger the check (using a tiny favicon or pixel to verify connectivity)
    // We add a random timestamp to prevent caching
    img.src = "https://www.google.com/favicon.ico?t=" + new Date().getTime();
    
    // Fallback: If the image takes too long (slow net), just try redirecting anyway 
    // but only if navigator.onLine is still true.
    setTimeout(() => {
        if(navigator.onLine) window.location.replace(realUrl);
    }, 1000);
  }

  // Start
  init();

})();
</script>
</body>
</html>

